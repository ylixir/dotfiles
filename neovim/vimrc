"relative line numbers
set number relativenumber
"toggle to absolute line numbers unless we are in normal focus
augroup numbertoggle
  autocmd!
  autocmd BufEnter,FocusGained,InsertLeave * set relativenumber
  autocmd BufLeave,FocusLost,InsertEnter   * set norelativenumber
augroup END

set t_AB=^[[48;5;%dm
set t_AF=^[[38;5;%dm
set t_Co=256
set termguicolors
set colorcolumn=80
set cursorline
let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
let g:airline_theme='violet'
colorscheme inkpot

"Rainbow parentheses (kien version, not junegunn)
let g:rainbow#pairs = [['(', ')'], ['[', ']'], ['{', '}']]
au VimEnter * RainbowParentheses

set mouse=a
let mapleader=" "

set tabstop=8 softtabstop=0 expandtab shiftwidth=4 smarttab

"set up ale (language server)
let g:ale_linters = { 'php': ['php', 'psalm'] }
nnoremap <silent> gd :ALEGoToDefinition<CR>
nnoremap <silent> gr :ALEFindReferences<CR>

"autocompletion
let g:ale_completion_enabled = 1
let g:SuperTabDefaultCompletionType = "<c-x><c-o>"

"set up fzf (fuzzy finder)
nmap <Leader>F :Files<CR>
nmap <Leader>a :Ag<Space>
nmap <Leader>b :Buffers<CR>
nmap <Leader>f :GFiles<CR>

" Vdebug
let g:vdebug_keymap = {
\    "run" : "<Leader>/",
\    "run_to_cursor" : "<Up>",
\    "step_over" : "<Down>",
\    "step_into" : "<Right>",
\    "step_out" : "<Left>",
\    "close" : "q",
\    "detach" : "x",
\    "set_breakpoint" : "<Leader>p",
\    "eval_visual" : "<Leader>e"
\}

"nerdtree autoload (this seems annoying)
"autocmd vimenter * NERDTree

autocmd BufRead,BufNewFile *.elm set filetype=elm
autocmd FileType elm :packadd elm-vim

